<html>
	<head>
		<title>Practical functional programming</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/moon.css">
		<style>
			strong {
				color: #fa0;
			}

      b {
				color: #fff;
				font-weight: bold;
			}

			.reveal h4 {
				text-transform: none;
			}

			.reveal .code-side-bg {
				position: absolute;
				top: -500%;
				right: -100%;
				bottom: -500%;
				left: 60%;
				background: #000;
				z-index: 0;
			}

			.reveal .code-side-row {
				position: relative;
				z-index: 1;
				margin-bottom: 3%;
				font-size: 0.8em;
			}

			.reveal .code-side-row:after {
				content: "";
				display: table;
				clear: both;
			}

			.reveal .code-side-left {
				width: 60%;
				float: left;
				box-sizing: border-box;
				padding: 0 2%;
				text-align: right;
				color: #eee8d5;
			}
			
			.reveal .code-side-right {
				float: right;
				width: 40%;
				box-sizing: border-box;
				padding: 0 2%;
				text-align: left;
				color: #eee8d5;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

<!--
	Why
		Maths
		Generalization
	Currying
		Principle and syntax
		Trick non-FP languages
	Iterating
		map
		filter
		union
		intersection
		prop
		eq
	Composition
		LTR
		RTL
	Benefits
		Scalability
		Simplicity
		Testability
		Out of the box organisation
-->		

<section data-markdown><textarea data-template>

	## Practical functional programming <!-- .element: style="text-transform:none" -->
	_The movie_ <!-- .element: class="fragment" -->

</textarea></section>
<section>
	<section data-markdown><textarea data-template>

		### This is pointless<span class="fragment" style="font-size: 2em" data-fragment-index="1"> .</span>
		<!-- .element: class="fragment shrink" data-fragment-index="2" -->

		### But here are the promises: <!-- .element: class="fragment" data-fragment-index="2" -->
		- Out of the box organisation <!-- .element: class="fragment" -->
		- Simplicity <!-- .element: class="fragment" -->
		- Testability <!-- .element: class="fragment" -->

		<aside class="notes">
			Don't let your dreams be dreams
		</aside>

	</textarea></section>
</section>
<section data-markdown><textarea data-template>

	### Remember functions?

	<aside class="notes">
		Engage audience.

		Forgotten by many developers.
		Why? Probably because of programming trends, and fancy patterns.
		
		OOP tackles nicely complex problems but let's not forget that simple stuff should remain simple.
	</aside>

</textarea></section>
<section data-markdown data-transition="fade-out"><textarea data-template>
	
	### Œª-functions <!-- .element: style="text-transform: none;" -->
	<ul>
		<li class="fragment">Are the simplest way to **abstract a computation**</li>
		<li class="fragment">Take one **single argument**</li>
		<li class="fragment">Are preferrably pure</li>
	</ul>

	**a ‚Üí b** <!-- .element: class="fragment" -->

</textarea></section>
<section data-markdown data-transition="fade-in"><textarea data-template>

	#### Some Œª-functions:

	Negate <!-- .element: style="font-size: .7em; text-align: left; margin: 0 0 -1% 5%; font-style: italic;" -->
	```
	negate = a ‚Üí -a
	```
	<!-- .element: class="fragment" -->
	Square <!-- .element: class="fragment" style="font-size: .7em; text-align: left; margin: 0 0 -1% 5%; font-style: italic;" -->
	```
	square = a ‚Üí a * a
	```
	<!-- .element: class="fragment" -->

	Greet ("Hello blablabla") <!-- .element: class="fragment" style="font-size: .7em; text-align: left; margin: 0 0 -1% 5%; font-style: italic;" -->
	```
	theSoCalledGreet = a ‚Üí "Hello " + a
	// Don't we deserve better than that?
	```
	<!-- .element: class="fragment" -->

	Concatenate <!-- .element: class="fragment" style="font-size: .7em; text-align: left; margin: 0 0 -1% 5%; font-style: italic;" -->
	```
	concat = a ‚Üí b ‚Üí a + b
	theSoCalledGreet = concat("Hello")
	```
	<!-- .element: class="fragment" -->

</textarea></section>
<section data-markdown><textarea data-template>

	### Congratualtions, you just **curried** a function for the first time!

</textarea></section>
<section>
	<section data-markdown><textarea data-template>

		### Code time - bring it on!

		<small>We'll be using **Javascript** to train those concepts</small>
	
		<a href="https://jsfiddle.net/blint/g5skuaq4/">https://jsfiddle.net/blint/g5skuaq4/</a>

	</textarea></section>
	<section data-markdown><textarea data-template>

		<div class="code-side-bg"></div>

		<div class="code-side-row">
			<h3 class="code-side-left">All you need to know</h3>
		</div>

		<div class="code-side-row">
			<div class="code-side-left">
				Lambda function
			</div>
			<div class="code-side-right">
				`a => b`
			</div>
		</div>

		<div class="code-side-row">
			<div class="code-side-left">
				Function application
			</div>
			<div class="code-side-right">
				`a(b)`
			</div>
		</div>

		<div class="code-side-row">
			<div class="code-side-left">
				String concatenation
			</div>
			<div class="code-side-right">
				`a + b`
			</div>
		</div>

		<div class="code-side-row">
			<div class="code-side-left">
				Arithmetics
			</div>
			<div class="code-side-right">
				`a + b`<br/>
				`a - b`<br/>
				`a * b`<br/>
				`a / b`<br/>
				`-a`
			</div>
		</div>

	</textarea></section>
</section>
<section data-markdown><textarea data-template>

	### Practical Currying

	<small>Currying is a fundamental technique of **partial application**</small>
	```
	makeKebab =
	  salad ‚Üí tomato ‚Üí onions ‚Üí samourai(salad + tomato + onions)

  makeKebabSaladTomato = makeKebab(salad)(tomato)
  
	miam = makeKebabSaladTomato(auxPetitsOignons(onions))
	```
	<!-- .element: class="fragment" -->

	<small>Currying can be implemented in a **practical** way. In JS for example:</small>
	<!-- .element: class="fragment" style="margin-top: 2%;" -->
	```
	const miamMiam = makeKebab(salad, tomato, auxPetitsOignons(onions))
	
	// But strict currying would also be valid
	const miam = makeKebab(salad)(tomato)(auxPetitsOignons(onions))
	```
	<!-- .element: class="fragment" -->

</textarea></section>
<section data-markdown><textarea data-template>

	### Iterating
	Manipulating dynamic collections happens often

</textarea></section>
<section data-markdown><textarea data-template>

	#### Transforming items
  ```
  let newList = []
  let i
  for (i = 0; i < list.length; i++) {
    let item = operation(list[i])
    newList.push(item)
  }
  ```

	<small>
		<span class="fragment" data-fragment-index="5">üéâ <b>map</b> = </span><span class="fragment" style="color: #fa0;" data-fragment-index="2">operation ‚Üí</span><span class="fragment" data-fragment-index="3"> list ‚Üí</span><span class="fragment" data-fragment-index="4" style="color: #1799dd;"> mappedList</span>
	</small>

  ```
  let newList = map(operation)(list)
  ```
	<!-- .element: class="fragment" data-fragment-index="6" -->

</textarea></section>
<section data-markdown><textarea data-template>

	#### Filtering items
  ```
  let newList = []
  let i
  for (i = 0; i < list.length; i++) {
    let item = operation(list[i])
    if (condition(item)) {    // Ex.: item => item > 42
      newList.push(item)
    }
  }
  ```

	<small>
		<span class="fragment" data-fragment-index="5">üéâ <b>filter</b> = </span><span class="fragment" style="color: #fa0;" data-fragment-index="2">condition ‚Üí</span><span class="fragment" data-fragment-index="3"> list ‚Üí</span><span class="fragment" data-fragment-index="4" style="color: #1799dd;"> filteredList</span>
	</small>

  ```
  let newList = filter(condition)(list)
  ```
	<!-- .element: class="fragment" data-fragment-index="6" -->

</textarea></section>
<section data-markdown><textarea data-template>

	#### Accumulating items
  ```
  let acc = 0
  let i
  for (i = 0; i < list.length; i++) {
    acc = operation(acc, list[i])
    // Ex.: acc = acc + list[i]
  }
  ```

	<small>
		<span class="fragment" data-fragment-index="5">üéâ <b>reduce</b> = </span><span class="fragment" style="color: #fa0;" data-fragment-index="1">operation ‚Üí</span><span class="fragment" data-fragment-index="2" style="color: #CD4B5B;"> initialValue ‚Üí</span><span class="fragment" data-fragment-index="3"> list ‚Üí</span><span class="fragment" data-fragment-index="4" style="color: #1799dd;"> filteredList</span>
	</small>

  ```
  let acc = reduce(a => b => a + b)(0)(list)
  ```
	<!-- .element: class="fragment" data-fragment-index="6" -->
  ```
  let acc = reduce(add)(0)(list)
  ```
	<!-- .element: class="fragment" data-fragment-index="7" -->

</textarea></section>
<section>
  <section data-markdown><textarea data-template>

    ### Now action!!

    Go to <a href="https://kahoot.it/">https://kahoot.it/</a>

  </textarea></section>
  <section data-markdown><textarea data-template>

    Mario saves princess with `getPrincess`. How does he gets all the princesses from Bowser's castles?

    1. `princesses = map(getPrincess)(castles)`
    2. `princesses = map(getPrincess(castles))`
    3. `princesses = map(castles(getPrincess))`
    4. `princesses = []; for (let i = 0; i <= list.length; i++) { res.push(list[i]) }`

  </textarea></section>
  <section data-markdown><textarea data-template>

    If I have a function that compares equality `eq = a => b => a == b`, how do I keep items in `list` that are equal to 5?

    1. `filter(eq(5)(list))`
    2. `filter(eq(5))(list)`
    3. `filter(eq)(5)(list)`
    4. `let res = []; for (let i = 0; i <= list.length; i++) { if (list[i] == 5) { res.push(5) } }`

  </textarea></section>
  <section data-markdown><textarea data-template>

    How to get `baz` from `{ foo: { bar: baz } }` with `get = obj => attr => obj[attr]`?

    1. `reduce(get('foo', 'bar'))(obj)`
    2. `filter(get('foo', 'bar'))(obj)`
    3. `reduce(get)(obj)(['foo', 'bar'])`
    4. `yolo()`

  </textarea></section>
</section>
<section data-markdown><textarea data-template>

  ### Composition

  Programming is like making info<br />going from point **A** to point **Z**

  Usually, there are steps in the middle.

</textarea></section>
<section data-markdown><textarea data-template>
  
  #### Let's open a kebab factory!

  <small>But who likes samourai sauce?</small>
  ```
  makeKebab =
    salad ‚Üí tomato ‚Üí onions ‚Üí samourai(salad + tomato + onions)

  miam = makeKebab(salad)(tomato)(auxPetitsOignons(onions))
  ```

</textarea></section>
<section data-markdown><textarea data-template>

  #### Fixing the onion machine
  ```
  makeKebab =
  salad ‚Üí tomato ‚Üí onions ‚Üí samourai(salad + tomato + onions)
  ```
  
  <small>_Let's slice... the machine!_</small>

  ```
  makeMixture =
  salad ‚Üí tomato ‚Üí onions ‚Üí salad + tomato + onions
  
  makeSaladTomato = makeMixture(salad)(tomato)
  // Which's signature is like: onions ‚Üí salad + tomato + onions
  ```
  <!-- .element: class="fragment" -->

  ```
  makeKebab = makeSaladTomato | samourai
  ```
  <!-- .element: class="fragment" -->

</textarea></section>
<section data-markdown><textarea data-template>

  #### They see me slicin'

  <small>_So we have_</small>
  ```
  makeKebab = makeSaladTomato | samourai
  
  miam = makeKebab(salad)(tomato)(auxPetitsOignons(onions))
  ```

  <small>_Let's compose more_</small>
  <!-- .element: class="fragment" -->
  ```
  makeMiam = auxPetitsOignons | makeKebab
  // Or
  makeMiamMiam = auxPetitsOignons | makeSaladTomato | samourai
  ```
  <!-- .element: class="fragment" -->

</textarea></section>
<section data-markdown><textarea data-template>

  #### Capitalism

  That bag of onions is gonna make us rich üí∞

  <small class="fragment current-visible">_Because yes, in this example we have an<br/>unlimited source of kebabs and a bag of onions. Whatever._</small>
  
  ```
  bagOfOnions = thatsALotOfOnions
  ```

  ```
  makeMiams = map(makeMiam)
  ```
  <!-- .element: class="fragment" -->

  ```
  makeEdibleMiams = map(makeMiam) | filter(isBurnt)

  edibleMiams = makeEdibleMiams(bagOfOnions)
  ```
  <!-- .element: class="fragment" -->

</textarea></section>
<section data-markdown><textarea data-template>

  ### You just learnt the art of left-to-right composition
  <!-- .element: class="fragment shrink" data-fragment-index="1" -->

  ```
  pipe = (a ‚Üí b) ‚Üí (b ‚Üí c) ‚Üí a ‚Üí c
  
  pipe(fn1, fn2) == fn1 | fn2
  ```
  <!-- .element: class="fragment" data-fragment-index="1" -->

</textarea></section>
<section data-markdown><textarea data-template>

  #### The right-to-left composition is also üëç

  ```
  compose = (b ‚Üí c) ‚Üí (a ‚Üí b) ‚Üí a ‚Üí c
  
  compose(fn1, fn2) == fn1 . fn2
  ```

  ```
  makeKebab = samourai . makeMixture(salad)(tomato)
  ```
  <!-- .element: class="fragment" data-fragment-index="1" -->

</textarea></section>
<section>
  <section data-markdown><textarea data-template>

    ### Final boss

  </textarea></section>
  <section data-markdown><textarea data-template>

    

    1. ``
    2. ``
    3. ``
    4. ``

  </textarea></section>
</section>
<section data-markdown><textarea data-template>

    ### Thank you ‚ù§Ô∏è

</textarea></section>

			</div>
		</div>

		<img
			src="https://mention.com/wp-content/themes/mention/img/logo-mention.svg"
			height="auto"
			width="200px"
			style="position: absolute; top: 3%; left: 4%; opacity: .85;"
		/>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.js"></script>
		<script>
			Reveal.initialize({
        controlsTutorial: false,
				history: true,
        dependencies: [
					{ src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/markdown.min.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/highlight/highlight.min.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/notes/notes.js', async: true },
				],
      });
		</script>
	</body>
</html>
